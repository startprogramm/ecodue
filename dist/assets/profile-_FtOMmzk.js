import{g as a,u as r,c as u,a as s}from"./auth-aIv_B0Df.js";/* empty css                 */const l=document.getElementById("profile-form"),t=document.getElementById("profile-msg"),c=document.getElementById("logout-btn");async function m(){try{const e=await a();if(!e){window.location.href="login.html";return}const o=await s(e.id);o&&(document.getElementById("fullName").value=o.full_name||"",document.getElementById("bio").value=o.bio||""),document.getElementById("email").value=e.email}catch(e){t.textContent="Failed to load profile.",console.error(e)}}l.addEventListener("submit",async e=>{e.preventDefault(),t.textContent="";const o=l.fullName.value.trim(),i=l.bio.value.trim();if(!o){t.textContent="Full name is required.";return}try{const n=await a();await r(n.id,{full_name:o,bio:i}),t.style.color="#2a8f3a",t.textContent="Profile updated successfully!"}catch(n){t.textContent=n.message||"Failed to update profile."}});c.addEventListener("click",async()=>{try{await u(),window.location.href="index.html"}catch{t.textContent="Failed to log out."}});m();
